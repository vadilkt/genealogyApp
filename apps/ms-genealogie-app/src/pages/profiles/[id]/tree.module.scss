// ─── Path draw-in animation ───────────────────────────────────────────────────
// Uses SVG pathLength="1" normalization so any path length animates correctly.
@keyframes drawPath {
    from { stroke-dashoffset: 1; opacity: 0; }
    to   { stroke-dashoffset: 0; opacity: 1; }
}

// ─── Node pop-in animation ────────────────────────────────────────────────────
@keyframes nodeAppear {
    from { opacity: 0; transform: scale(0.75) translateY(10px); }
    to   { opacity: 1; transform: scale(1)    translateY(0);    }
}

// ─── Paths ────────────────────────────────────────────────────────────────────
.treePath {
    stroke-dasharray: 1;
    stroke-dashoffset: 1;
    opacity: 0;
    animation: drawPath 0.55s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

// ─── Nodes ────────────────────────────────────────────────────────────────────
.treeNode {
    position: absolute;
    opacity: 0;
    animation: nodeAppear 0.38s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    cursor: pointer;
    border-radius: 12px;
    background: #fff;
    border: 1.5px solid #e8d5b7;
    display: flex;
    align-items: stretch;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(100, 60, 10, 0.08);
    transition: box-shadow 0.2s ease, transform 0.2s ease;

    &:hover {
        transform: translateY(-3px) scale(1.02);
        box-shadow: 0 8px 20px rgba(180, 100, 20, 0.22);
        z-index: 10;
    }
}

.rootNode {
    border: 2px solid #e67e22;
    box-shadow: 0 4px 18px rgba(230, 126, 34, 0.28);
}

.siblingNode {
    border: 1.5px solid #c084fc;
    box-shadow: 0 2px 8px rgba(192, 132, 252, 0.18);
}

.spouseNode {
    border: 1.5px solid #f472b6;
    box-shadow: 0 2px 8px rgba(244, 114, 182, 0.18);
}

// ─── Dashed path (sibling → parent) ───────────────────────────────────────────
@keyframes fadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
}

.treePathDashed {
    opacity: 0;
    animation: fadeIn 0.4s ease forwards;
}

// ─── Gender accent bar ────────────────────────────────────────────────────────
.genderBar {
    width: 5px;
    flex-shrink: 0;

    &[data-gender='MALE']   { background: linear-gradient(180deg, #60a5fa, #2563eb); }
    &[data-gender='FEMALE'] { background: linear-gradient(180deg, #f472b6, #db2777); }
    &[data-gender='UNKNOWN'] { background: #d1c0a8; }
}

// ─── Node content ─────────────────────────────────────────────────────────────
.nodeContent {
    padding: 8px 11px;
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.nodeName {
    font-weight: 700;
    font-size: 12.5px;
    color: #2d1a0e;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    line-height: 1.3;
}

.nodeDates {
    font-size: 11px;
    color: #a07c58;
    margin-top: 3px;
    white-space: nowrap;
}

// ─── Scrollable canvas wrapper ────────────────────────────────────────────────
.treeScroll {
    overflow: auto;
    border-radius: 12px;
    background: #fdf4e8;
    border: 1px solid #edd9bc;
    padding: 8px;
    min-height: 300px;
}

.treeCanvas {
    position: relative;
}

// ─── Empty state ──────────────────────────────────────────────────────────────
.emptyTree {
    padding: 60px 0;
    text-align: center;
    color: #c4956a;
    font-size: 15px;
}
